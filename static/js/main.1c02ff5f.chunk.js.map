{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","_ref","images","_useState","useState","_useState2","_slicedToArray","itemWidth","setItemWidth","_useState3","_useState4","debauncedItemWidth","setDebauncedItemWidth","_useState5","_useState6","frameSize","setFrameSize","_useState7","_useState8","debauncedFrameSize","setDebauncedFrameSize","_useState9","_useState10","step","setStep","_useState11","_useState12","animationDuration","setAnimationDuration","_useState13","_useState14","offset","setOffset","maxOffset","length","Number","isFirstImage","isLastImage","useEffect","timeoutId","setTimeout","clearTimeout","offsetStep","carouselListStyle","transform","concat","width","transition","_jsxs","className","children","_jsx","style","map","image","index","src","alt","String","type","onClick","prevOffset","disabled","htmlFor","id","value","onChange","e","target","App","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","args","Array","_key","call","apply","state","_createClass","key","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1c02ff5f.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[],\n};\n\nconst Carousel: React.FC<Props> = ({ images }) => {\n  const [itemWidth, setItemWidth] = useState('130');\n  const [debauncedItemWidth, setDebauncedItemWidth] = useState(itemWidth);\n  const [frameSize, setFrameSize] = useState('3');\n  const [debauncedFrameSize, setDebauncedFrameSize] = useState(frameSize);\n  const [step, setStep] = useState('3');\n  const [animationDuration, setAnimationDuration] = useState('1000');\n  const [offset, setOffset] = useState(0);\n\n  const maxOffset = 100 - ((100 / images.length) * Number(frameSize));\n\n  const isFirstImage = offset === 0;\n  const isLastImage = offset === maxOffset;\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setDebauncedItemWidth(itemWidth);\n    }, 500);\n\n    return () => clearTimeout(timeoutId);\n  }, [itemWidth]);\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      if (offset > maxOffset) {\n        setOffset(maxOffset);\n      }\n\n      setDebauncedFrameSize(frameSize);\n    }, 500);\n\n    return () => clearTimeout(timeoutId);\n  }, [frameSize]);\n\n  const offsetStep = (100 / images.length) * Number(step);\n\n  const carouselListStyle = {\n    transform: `translateX(-${offset}%)`,\n    width: `${Number(debauncedItemWidth) * images.length}px`,\n    transition: `transform ${animationDuration}ms`,\n  };\n\n  const handleNextClick = () => {\n    setOffset(prevOffset => {\n      return prevOffset + offsetStep > maxOffset\n        ? maxOffset\n        : prevOffset + offsetStep;\n    });\n  };\n\n  const handlePrevClick = () => {\n    setOffset(prevOffset => {\n      return prevOffset - offsetStep < 0\n        ? 0\n        : prevOffset - offsetStep;\n    });\n  };\n\n  return (\n    <div className=\"Carousel\">\n      <div\n        className=\"Carousel__list-wrapper\"\n        style={{ width: `${Number(debauncedItemWidth) * Number(debauncedFrameSize)}px` }}\n      >\n        <ul className=\"Carousel__list\" style={carouselListStyle}>\n          {images.map((image, index) => (\n            <li key={image}>\n              <img\n                src={image}\n                alt={String(index)}\n                style={{ width: `${debauncedItemWidth}px` }}\n              />\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      <button\n        className=\"Carousel__button\"\n        type=\"button\"\n        onClick={handlePrevClick}\n        disabled={isFirstImage}\n      >\n        Prev\n      </button>\n\n      <button\n        className=\"Carousel__button\"\n        type=\"button\"\n        data-cy=\"next\"\n        onClick={handleNextClick}\n        disabled={isLastImage}\n      >\n        Next\n      </button>\n\n      <ul className=\"Carousel__params\">\n        <li>\n          <label htmlFor=\"itemWidth\">Width of image: </label>\n\n          <input\n            id=\"itemWidth\"\n            type=\"text\"\n            value={itemWidth}\n            onChange={(e) => setItemWidth(e.target.value)}\n          />\n        </li>\n\n        <li>\n          <label htmlFor=\"frameSize\">Size of frame: </label>\n\n          <input\n            id=\"frameSize\"\n            type=\"text\"\n            value={frameSize}\n            onChange={(e) => setFrameSize(e.target.value)}\n          />\n        </li>\n\n        <li>\n          <label htmlFor=\"scrollStep\">Step of scroll: </label>\n\n          <input\n            id=\"scrollStep\"\n            type=\"text\"\n            value={step}\n            onChange={(e) => setStep(e.target.value)}\n          />\n        </li>\n\n        <li>\n          <label htmlFor=\"animationDuration\">\n            Duration of animation (ms):\n          </label>\n\n          <input\n            id=\"animationDuration\"\n            type=\"text\"\n            value={animationDuration}\n            onChange={(e) => setAnimationDuration(e.target.value)}\n          />\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ninterface State {\n  images: string[];\n}\n\nclass App extends React.Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n  };\n\n  render() {\n    const { images } = this.state;\n\n    return (\n      <div className=\"App\">\n        {/* eslint-disable-next-line */}\n        <h1 data-cy=\"title\">Carousel with {images.length} images</h1>\n\n        <Carousel images={images} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}